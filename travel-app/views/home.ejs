<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Swiper core CSS (v11) -->
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
        />
        <!-- Your custom Swiper styles -->
        <link rel="stylesheet" href="/swiper.css" />

        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>ExploreMyCountry - Attractions</title>

        <link
            rel="stylesheet"
            href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        />
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
        <link
            rel="stylesheet"
            href="https://unpkg.com/leaflet/dist/leaflet.css"
        />
        <link
            rel="stylesheet"
            href="https://unpkg.com/leaflet/dist/leaflet.css"
        />
        <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
        <link rel="stylesheet" href="/homepage.css?v=3.14159" />
    </head>
    <body>
        <%- include('partials/header') %> <%- include('partials/sidebar') %> <%
        if (success) { %>
        <div class="alert success"><%= success %></div>
        <% } %> <% if (error) { %>
        <div class="alert error"><%= error %></div>
        <% } %>

        <!-- Homepage Hero Section -->
        <section class="hero">
            <div class="hero-content">
                <h1>Discover Amazing Destinations</h1>
                <p>Find the best attractions, restaurants, and experiences</p>
                <div class="search-bar">
                    <input
                        type="text"
                        placeholder="Search for a country, city or attraction..."
                    />
                    <button>Search</button>
                    <a href="/trips/search" class="explore-trips-button"
                        >Explore Available Trips</a
                    >
                </div>
            </div>
        </section>

        <section class="explainer-slider">
            <h2>How ExploreMyCountry Works</h2>

            <div class="swiper explainerSwiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <h3>üåç Discover Top Destinations</h3>
                        <p>
                            Explore handpicked attractions and hidden gems in
                            every country.
                        </p>
                    </div>
                    <div class="swiper-slide">
                        <h3>üìÖ Plan Your Perfect Trip</h3>
                        <p>
                            Use our budget planner and local guides to organize
                            every detail.
                        </p>
                    </div>
                    <div class="swiper-slide">
                        <h3>üí¨ Share Reviews & Insights</h3>
                        <p>
                            Help fellow travelers by rating attractions and
                            sharing tips.
                        </p>
                    </div>
                </div>

                <!-- Controls -->
                <div class="swiper-pagination"></div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>

            <div class="get-started-wrapper">
                <a href="#main-content" class="get-started-btn">Get Started</a>
            </div>
        </section>

        <!-- Attractions Section -->
        <section id="main-content"></section>
        <h2 class="section-title">Top Attractions</h2>
        <div class="carousel-container">
            <div class="carousel">
                <!-- Attraction Card 1: Colosseum -->
                <div class="attraction-card">
                    <div
                        class="card-image"
                        style="
                            background-image: url('https://images.unsplash.com/photo-1531572753322-ad063cecc140');
                        "
                    ></div>
                    <span class="price-badge">$25</span>
                    <div class="card-content">
                        <h3 class="card-title">
                            <a href="italy.html">Italy</a>
                        </h3>
                        <p class="card-location">Rome, Italy</p>
                        <div class="rating">
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                        </div>
                        <div class="read-more" onclick="toggleReadMore(this)">
                            Read more
                            <svg
                                width="12"
                                height="12"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </div>
                        <div class="read-more-content">
                            <p>
                                Italy is famous for its rich history, art, and
                                architecture. Home to iconic landmarks like the
                                Colosseum, Venice's canals, and Florence's
                                Renaissance art, Italy offers a perfect blend of
                                culture, cuisine, and breathtaking landscapes.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Attraction Card 2: Leaning Tower -->
                <div class="attraction-card">
                    <div
                        class="card-image"
                        style="
                            background-image: url('https://images.unsplash.com/photo-1523531294919-4bcd7c65e216');
                        "
                    ></div>
                    <span class="price-badge">$18</span>
                    <div class="card-content">
                        <h3 class="card-title">
                            <a href="spain.html">Spain</a>
                        </h3>
                        <p class="card-location">Madrid, Spain</p>
                        <div class="rating">
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÜ</span>
                        </div>
                        <div class="read-more" onclick="toggleReadMore(this)">
                            Read more
                            <svg
                                width="12"
                                height="12"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </div>
                        <div class="read-more-content">
                            <p>
                                Spain is known for its vibrant culture, stunning
                                architecture like Gaud√≠'s Sagrada Familia,
                                beautiful beaches, and delicious cuisine. From
                                flamenco dancing in Seville to the running of
                                the bulls in Pamplona, Spain offers
                                unforgettable experiences.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Attraction Card 3: Trevi Fountain -->
                <div class="attraction-card">
                    <div
                        class="card-image"
                        style="
                            background-image: url('https://images.unsplash.com/photo-1492571350019-22de08371fd3');
                        "
                    ></div>
                    <span class="price-badge">Free</span>
                    <div class="card-content">
                        <h3 class="card-title">
                            <a href="japan.html">Japan</a>
                        </h3>
                        <p class="card-location">Tokyo, Japan</p>
                        <div class="rating">
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                        </div>
                        <div class="read-more" onclick="toggleReadMore(this)">
                            Read more
                            <svg
                                width="12"
                                height="12"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </div>
                        <div class="read-more-content">
                            <p>
                                Japan blends ancient traditions with
                                cutting-edge modernity. From the cherry blossoms
                                of Kyoto's temples to Tokyo's neon-lit streets,
                                Japan offers unique experiences including sushi,
                                onsens, bullet trains, and beautiful landscapes
                                like Mount Fuji.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Attraction Card 4: Vatican Museums -->
                <div class="attraction-card">
                    <div
                        class="card-image"
                        style="
                            background-image: url('https://images.unsplash.com/photo-1483729558449-99ef09a8c325');
                        "
                    ></div>
                    <span class="price-badge">$22</span>
                    <div class="card-content">
                        <h3 class="card-title">
                            <a href="brazil.html">Brazil</a>
                        </h3>
                        <p class="card-location">Brazilia, Brazil</p>
                        <div class="rating">
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                        </div>
                        <div class="read-more" onclick="toggleReadMore(this)">
                            Read more
                            <svg
                                width="12"
                                height="12"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </div>
                        <div class="read-more-content">
                            <p>
                                Brazil is home to the Amazon rainforest, vibrant
                                cities like Rio de Janeiro with its iconic
                                Christ the Redeemer statue, stunning beaches,
                                and the world-famous Carnival festival. The
                                country offers incredible biodiversity and rich
                                cultural heritage.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Attraction Card 5: Pantheon -->
                <div class="attraction-card">
                    <div
                        class="card-image"
                        style="
                            background-image: url('https://images.unsplash.com/photo-1431274172761-fca41d930114');
                        "
                    ></div>
                    <span class="price-badge">Free</span>
                    <div class="card-content">
                        <h3 class="card-title">
                            <a href="webproject.html">France</a>
                        </h3>
                        <p class="card-location">Paris, France</p>
                        <div class="rating">
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÖ</span>
                            <span class="star">‚òÜ</span>
                        </div>
                        <div class="read-more" onclick="toggleReadMore(this)">
                            Read more
                            <svg
                                width="12"
                                height="12"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </div>
                        <div class="read-more-content">
                            <p>
                                France is renowned for its art, fashion,
                                cuisine, and architecture. From the Eiffel Tower
                                in Paris to the lavender fields of Provence and
                                the French Riviera's beaches, France offers
                                world-class museums, wine regions, and
                                picturesque countryside.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </section>

        <link rel="stylesheet" />
        <script
            src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-vA3D3G3LyrFzN24f9KRzEwUpKUBuX3MZ2CRGPrZMTjU="
            crossorigin=""
        ></script>
        <h2 class="section-title">Explore the Map</h2>
        <div class="map-wrapper">
            <div id="map" style="height: 500px; margin-bottom: 20px"></div>
        </div>

        <!-- Leaflet and dynamic map setup -->
        <script>
            const trips = JSON.parse(`<%- JSON.stringify(trips || []) %>`)
            const map = L.map('map').setView([26.8206, 30.8025], 5) // Egypt center

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; OpenStreetMap contributors',
            }).addTo(map)

            trips.forEach((trip) => {
                if (trip.coordinates?.lat && trip.coordinates?.lng) {
                    L.marker([trip.coordinates.lat, trip.coordinates.lng])
                        .addTo(map)
                        .bindPopup(
                            `<strong>${trip.title}</strong><br>${
                                trip.country?.name || ''
                            }<br>$${trip.price}`
                        )
                }
            })
        </script>

        <%- include('partials/footer') %>
        <script>
            var mapp = L.map('mappp').setView([20, 0], 2) // World view

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; OpenStreetMap contributors',
            }).addTo(mapp)

            var countries = [
                {
                    name: 'France',
                    lat: 48.8566,
                    lon: 2.3522,
                    page: 'france.html',
                },
                {
                    name: 'Italy',
                    lat: 41.9028,
                    lon: 12.4964,
                    page: 'italy.html',
                },
                {
                    name: 'Spain',
                    lat: 40.4168,
                    lon: -3.7038,
                    page: 'spain.html',
                },
                {
                    name: 'Germany',
                    lat: 52.52,
                    lon: 13.405,
                    page: 'germany.html',
                },
                {
                    name: 'United Kingdom',
                    lat: 51.5074,
                    lon: -0.1278,
                    page: 'uk.html',
                },
                {
                    name: 'United States',
                    lat: 38.9072,
                    lon: -77.0369,
                    page: 'usa.html',
                },
                {
                    name: 'Canada',
                    lat: 45.4215,
                    lon: -75.6972,
                    page: 'canada.html',
                },
                {
                    name: 'Japan',
                    lat: 35.6895,
                    lon: 139.6917,
                    page: 'japan.html',
                },
                {
                    name: 'Australia',
                    lat: -33.8688,
                    lon: 151.2093,
                    page: 'australia.html',
                },
                {
                    name: 'Brazil',
                    lat: -15.7939,
                    lon: -47.8828,
                    page: 'brazil.html',
                },
                {
                    name: 'India',
                    lat: 28.6139,
                    lon: 77.209,
                    page: 'india.html',
                },
                {
                    name: 'China',
                    lat: 39.9042,
                    lon: 116.4074,
                    page: 'china.html',
                },
                {
                    name: 'South Africa',
                    lat: -25.7479,
                    lon: 28.2293,
                    page: 'southafrica.html',
                },
                {
                    name: 'Egypt',
                    lat: 30.0444,
                    lon: 31.2357,
                    page: 'egypt.html',
                },
            ]

            countries.forEach(function (country) {
                L.marker([country.lat, country.lon])
                    .addTo(map)
                    .bindPopup(
                        '<a href="' +
                            country.page +
                            '">' +
                            country.name +
                            '</a>'
                    )
            })
        </script>
        <!-- Swiper core JS -->
        <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
        <!-- Your custom Swiper JS -->
        <script src="/swiper.js"></script>
    </body>
</html>
